<mat-toolbar color="primary" class="toolbar-title">
    Cadastro de Cidade
</mat-toolbar>

<mat-card>
    <mat-card-content>
        <form [formGroup]="formGroup">
            <mat-form-field appearance="outline" class="full-width-input">
                <mat-label>Nome</mat-label>
                <input matInput type="text" formControlName="nome">
                <mat-error *ngIf="formGroup.get('nome')?.invalid && formGroup.get('nome')?.touched">
                    O nome é obrigatório.
                </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline" class="full-width-input">
                <mat-label>Estado</mat-label>
                <mat-select formControlName="estado">
                    <mat-option *ngFor="let estado of estados" [value]="estado.id">
                        {{estado.nome}} ({{estado.sigla}})
                    </mat-option>
                </mat-select>
                <mat-error *ngIf="formGroup.get('estado')?.invalid && formGroup.get('estado')?.touched">
                    O estado é obrigatório.
                </mat-error>
            </mat-form-field>
        </form>
    </mat-card-content>
    <mat-card-actions>
        <button mat-raised-button routerLink="/admin/cidades">Cancelar</button>
        <button mat-raised-button color="warn" (click)="excluir()" 
                [disabled]="formGroup.invalid || !formGroup.value.id">Excluir</button>
        <button mat-raised-button color="primary" (click)="salvar()" 
                [disabled]="formGroup.invalid">Salvar</button>
    </mat-card-actions>
</mat-card>